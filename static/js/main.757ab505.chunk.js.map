{"version":3,"sources":["components/AppLayout.js","assets/logo.png","api.js","Constants.js","utils/useLocalStorage.js","store.js","components/Comment.js","components/CommentList.js","components/Post.js","components/PostList.js","components/StoryList.js","components/Suggestion.js","components/SuggestionList.js","pages/Home.js","pages/About.js","pages/accounts/Login.js","pages/accounts/Profile.js","pages/accounts/Signup.js","utils/LoginRequiredRoute.js","pages/accounts/index.js","utils/base64.js","components/PostNewForm.js","utils/forms.js","pages/PostNew.js","pages/index.js","index.js"],"names":["AppLayout","children","sidebar","className","src","alt","Search","mode","Item","axiosInstance","Axios","create","baseURL","process","useAxios","makeUseAxios","axios","getStorageItem","key","initialValue","item","window","localStorage","getItem","JSON","parse","error","console","log","setStorageItem","value","setItem","stringify","e","AppContext","createContext","reducer","prevState","action","type","SET_TOKEN","jwtToken","payload","newState","isAuthenticated","UpdateWithSideEffect","state","dispatch","DELETE_TOKEN","dispatcho","AppProvider","useReducerWithSideEffects","length","store","Provider","useAppContext","useContext","Comment","comment","author","username","name","avatar_url","message","created_at","displayName","avatar","content","datetime","title","moment","format","fromNow","CommentList","post","useState","commentContent","setCommentComment","headers","Authorization","url","id","commentList","data","refetch","loading","handleCommentSave","a","apiUrl","then","response","catch","map","TextArea","style","marginBottom","onChange","target","block","disabled","onClick","Post","handleLike","caption","location","photo","is_like","tag_set","hoverable","cover","actions","HeartTwoTone","twoToneColor","isLike","HeartOutlined","Meta","size","icon","description","PostList","postList","setPostList","originPostList","useEffect","method","prev","currentPost","StoryList","Suggestion","suggestionUser","onFollowUser","is_follow","SuggestionList","originUserList","userList","setUserList","user","config","prevUserList","Home","history","useHistory","push","About","layout","labelCol","span","wrapperCol","tailLayout","offset","Login","useLocation","fieldErrors","setFieldErrors","loginRedirectUrl","from","path","onFinishFailed","errorInfo","errors","Object","entries","reduce","acc","fieldName","validateStatus","help","join","onFinish","values","token","label","rules","required","hasFeedback","non_field_errors","password","Password","htmlType","Profile","Signup","LoginRequiredRoute","Component","component","kwargs","render","props","to","pathname","Routes","match","exact","getBase64FromFile","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","PostNewForm","fileList","setFileList","visible","base64","previewPhoto","setPreviewPhoto","handlePreviewPhoto","preview","originFileObj","handleFinish","fieldValues","formData","FormData","append","forEach","handleFinishFailed","status","fieldErrorMessages","parseErrorMessages","autoComplete","listType","beforeUpload","onPreview","PlusOutlined","footer","onCancel","width","PostNew","Root","AccountsRoutes","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.757ab505.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Input, Menu } from \"antd\";\r\nimport \"./AppLayout.scss\";\r\nimport LogoImage from \"assets/logo.png\";\r\n\r\nfunction AppLayout({ children, sidebar }) {\r\n  return (\r\n    <div className=\"app\">\r\n      <div className=\"header\">\r\n        <h1 className=\"page-title\">\r\n          <img src={LogoImage} alt=\"logo\" />\r\n        </h1>\r\n        <div className=\"search\">\r\n          <Input.Search />\r\n        </div>\r\n        <div className=\"topnav\">\r\n          <Menu mode=\"horizontal\">\r\n            <Menu.Item>메뉴1</Menu.Item>\r\n            <Menu.Item>메뉴2</Menu.Item>\r\n            <Menu.Item>메뉴3</Menu.Item>\r\n          </Menu>\r\n        </div>\r\n      </div>\r\n      <div className=\"contents\">{children}</div>\r\n      <div className=\"sidebar\">{sidebar}</div>\r\n      <div className=\"footer\">&copy; Exist.</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AppLayout;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAdCAMAAACAJoJsAAACwVBMVEUAAAAjHyAjHyD///8zIiIjHyBAQEAkICErICsmJiYsISEmIiKAgIAjHyAnISEtLS0kHyIpKSkkICEkHyEkHyE5OTkkICEjHyAzMzMuIyMkJCQjICElHyImISEjICErKyskJCQoKCgkICEkICEkICElICAmHyNAIEAkICEkISEnJyczMzMmJiYkICFVVVUkICAlISEjICAjHyEjHyElICAjHyEjHyEjICEkICEkICAkICIrIiIkHyAkHyEjICAkICAjHyElISEkISElICArKysmICArKysjICEkHyAkHyAkICIkISEnIyMkICElISEkHyAjICEuLi4kHyAjHyAlICUkISEnIyMkICAkJCQjHyAjHyEpIyMkHyEkICIkICEjICEjICAmIiIjICEkICIjICAkICAkISEkICAlHyIkICEwIDAoIiIjICIkHyIkISEkICQmISEkHyEkICElICIjICEkISEkICAkICAkICAjICAjISElHyEjISEkHyAkHyQjISEkISEmICYjICEkICAkISEkICAkHyApIiIjICEkICAkISElICMkJCQjHyEkICAjICEjHyEkHyEjHyEnIiIkICAjICEkHyAkHyEjICAkISEjHyAkICAkICInJyckHyEkICEkISEjICAjICEkHyEjHyEjICMkHyEmJiYjICAmISEkHyEkICAjIyMkICQlISEkICEjIyMnISEkISEkICAkICAkJCQlICIoIiIkJCQjICAjICAjICMkISEnJyckJCQlISEkICIjIyMkICEjICIpISEjICEkIiIjICAmIiImHyIkICAjIyMkHyEjISEkHyEkHyEkISEjICAmICMjICIkHyAlHyUlICAkHyAkJCQjHyMlHyElICIjICAkICEkICEkHyAlICAkHyAoICgkICAjICEmHyMlIiIkICEkICAkHyQjHyAYxkEZAAAA6nRSTlMA/fwBD/4E+hgUF0MC7i4Rchn5nPsJ+OYKFjLgWi/pBioTucDydlEIyUYaBRuoA3d9l7zDZ8xz2tBHgR7NlN+GikVObxJfDMr03XlNO6E+xdIL1b0wXUK/FfWDLKuAsNHnNcJw751rf1K4ECaYalxANrOqYdmFj8eWrl6SdO0xbZUokZ5Vz+Ql4daNYCO0t5nL23s0h9jsrJ9W9r5xIZPqZLXwpMRQmiKtPevOJDiE8R0nY36vK1ktB7amSIwNDnV4M7KJH+hb9zxKxjqjbOPzVKdYkN4pN9QcQYtoV+K65W7cII6gSVOxPzlNBvrEAAAEaklEQVR4XrXNU5OeiQJF4fV+atq2EXd3bNu2PbE5sTO2bds+tm2sX3HqfFW5m75IJf3c7dq7agP0+GFBQS+6Ulfw02e4GfKqQ99oBl34gc7hJugxy98/oEl0Yb/WcxP0dCmzNJkuvKcDuHHN+c5mnibyLcJ35adl67nq/TmJ3Jg6O6FGs/gWkZBxGvoNN6a/V6CvZlH1nTwgdeqXxM2eeBLyRmcV6MnK481QOTEziwhxRatuT2cGQGb768RB+Kklb8ca3gXY9hBEUj4Cyl4jboEL4UlNpJ93f0Ryu8HPw0BpoBkAp/UMwJiQru5t56vAHY9rcGe0vIl0HUfrLa8BLdvVPldD90I4cB0bTEunLOSfNgL82XUwTRPZosnhGnP1CKQ+ryVhgAJtBcpyrV2zS/0vxG7TDZfUTEbqgrs12AQ9dfqU8ToBWvTKL9XhHFNLAY65A76nyazV+X9w8DD9PlSpXwPwlY4GntXnqDqsxbBTH4bPdS0Ny9zVd7muIJLmzDwO6Dlo0M3D1N4Vadl6H8DomfdnsVeTOapJL2RXDtPZwDgLIgCU6wwozPdJoE0roY+5SfCo9oO++Uk8ZkID6+OxMOQpmKGbh0677JomT+hIAPKWjKBRixilAxzCrboJyNEJdwA8rzF4SV8GBupFUmttBEbo6yQGT8By22G4LgKGuhc+1sE+tdi2gwkDtIlrxul8VukTCYPI0VdhU+7CoWYfgB4/VmCr7gR66SAe0n8AKbqTnm6jUN+Hx3Q+sMuVsFFd3bLGy/2rV+hvueaqJpGp47fD+5oIS/eGmzuNjmSuBsBRXQ8M01bSdQ8wSccUlu+HRP0CajQGnLUGMtQdDPdcaEu6zuWads2gQy2FezSZEUExnMl2Op8HRlNhiP4MaNNBlGkOkKljDoWOwzO6DubFd+8GroTRaiYdavFF/S4UEjdYx/KJZo+FZ3VQQ+cQgDfNn9NYrRlUnNYOCJfoWyTrLGCx3l67Gxgb9UOYookwWQfDc2o992moJS/qASpKiOtvEKNO5xHfDzjxo42/aoY3DSVMHa4pTJwWuBRS1HqadHkqSffrgmUVABPsAzv0J3CvpsHT6me8o7+AoZ5n7l3EzfQsPKgDgYEaDVIWJaT16pmgL3NEGz9MKL5kqHTy2T6/9p6MlSW68K0HanX1iwCcNzT1pUdynV521N/pByMOq2focdpG2G35kep9xP3RDTBJ64EVgaEL1Aeq+W8AOeohjh9WayJvq6eqTqklk7WDuIxlGp30oBo9RJv6l/HaCunHxkDRX3X83wCIJbgeYr02FwGc/PtnQOWnJ/Z90gwQ3rrnn0DrkodHVsAtt9ZFKBzV+0LWdt1CHGNHHUz5fzUwHVoe7V3Kvw7eGSYOit44v4i4bY5L5TpF+oZCjuK69Pv3x1ynpP7B1jRX0c0iL7iWWufQzRabA4FNdK//WB4hWd+he+12D6T4eIzuVeenMMR9dLMXX5nwQWbubUl0t+L3Xnnk6arrOPgfG95WRPTKWcwAAAAASUVORK5CYII=\"","import Axios from \"axios\";\r\nimport { makeUseAxios } from \"axios-hooks\";\r\nimport { API_HOST } from \"Constants\";\r\n\r\nexport const axiosInstance = Axios.create({\r\n  baseURL: API_HOST,\r\n});\r\n\r\nexport const useAxios = makeUseAxios({\r\n  axios: axiosInstance,\r\n});\r\n","export const API_HOST =\r\n  process.env.REACT_APP_API_HOST || \"http://localhost:8000\";\r\n","// https://usehooks.com/useLocalStorage/\r\nimport { useState } from \"react\";\r\n\r\nexport function getStorageItem(key, initialValue) {\r\n  try {\r\n    // Get from local storage by key\r\n    const item = window.localStorage.getItem(key);\r\n    // Parse stored json or if none return initialValue\r\n    return item ? JSON.parse(item) : initialValue;\r\n  } catch (error) {\r\n    // If error also return initialValue\r\n    console.log(error);\r\n    return initialValue;\r\n  }\r\n}\r\n\r\nexport function setStorageItem(key, value) {\r\n  try {\r\n    window.localStorage.setItem(key, JSON.stringify(value));\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\n// Hook\r\nexport default function useLocalStorage(key, initialValue) {\r\n  // State to store our value\r\n  // Pass initial state function to useState so logic is only executed once\r\n  const [storedValue, setStoredValue] = useState(() => {\r\n    return getStorageItem(key, initialValue);\r\n  });\r\n\r\n  // Return a wrapped version of useState's setter function that ...\r\n  // ... persists the new value to localStorage.\r\n  const setValue = (value) => {\r\n    // Allow value to be a function so we have same API as useState\r\n    const valueToStore = value instanceof Function ? value(storedValue) : value;\r\n    // Save state\r\n    setStoredValue(valueToStore);\r\n    setStorageItem(key, valueToStore);\r\n  };\r\n\r\n  return [storedValue, setValue];\r\n}\r\n","import React, { createContext, useContext } from \"react\";\r\nimport useReducerWithSideEffects, {\r\n  UpdateWithSideEffect,\r\n  Update,\r\n} from \"use-reducer-with-side-effects\";\r\nimport { getStorageItem, setStorageItem } from \"utils/useLocalStorage\";\r\n\r\nconst AppContext = createContext();\r\n\r\nconst reducer = (prevState, action) => {\r\n  const { type } = action;\r\n  if (type === SET_TOKEN) {\r\n    const { payload: jwtToken } = action;\r\n    const newState = {\r\n      ...prevState,\r\n      jwtToken,\r\n      isAuthenticated: true,\r\n    };\r\n    return UpdateWithSideEffect(newState, (state, dispatch) => {\r\n      setStorageItem(\"jwtToken\", jwtToken);\r\n    });\r\n  } else if (type === DELETE_TOKEN) {\r\n    const newState = {\r\n      ...prevState,\r\n      jwtToken: \"\",\r\n      isAuthenticated: false,\r\n    };\r\n    return UpdateWithSideEffect(newState, (state, dispatcho) => {\r\n      setStorageItem(\"jwtToken\", \"\");\r\n    });\r\n  }\r\n  return prevState;\r\n};\r\n\r\nexport const AppProvider = ({ children }) => {\r\n  const jwtToken = getStorageItem(\"jwtToken\", \"\");\r\n  const [store, dispatch] = useReducerWithSideEffects(reducer, {\r\n    jwtToken,\r\n    isAuthenticated: jwtToken.length > 0,\r\n  });\r\n  return (\r\n    <AppContext.Provider value={{ store, dispatch }}>\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAppContext = () => useContext(AppContext);\r\n\r\nconst SET_TOKEN = \"APP/SET_TOKEN\";\r\nconst DELETE_TOKEN = \"APP/DELETE_TOKEN\";\r\n\r\nexport const setToken = (token) => ({ type: SET_TOKEN, payload: token });\r\nexport const deleteToken = (token) => ({ type: DELETE_TOKEN });\r\n","import React from \"react\";\r\nimport { Avatar, Comment as AntdComment, Tooltip } from \"antd\";\r\nimport moment from \"moment\";\r\n\r\nexport default function Comment({ comment }) {\r\n  const {\r\n    author: { username, name, avatar_url },\r\n    message,\r\n    created_at,\r\n  } = comment;\r\n  const displayName = name.length === 0 ? username : name;\r\n  return (\r\n    <AntdComment\r\n      author={displayName}\r\n      avatar={<Avatar src={avatar_url} alt=\"username\" />}\r\n      content={<p>{message}</p>}\r\n      datetime={\r\n        <Tooltip title={moment().format(created_at)}>\r\n          <span>{moment().fromNow(created_at)}</span>\r\n        </Tooltip>\r\n      }\r\n    />\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Input, Button } from \"antd\";\r\nimport { useAxios, axiosInstance } from \"api\";\r\nimport { useAppContext } from \"store\";\r\nimport Comment from \"./Comment\";\r\n\r\nexport default function CommentList({ post }) {\r\n  const {\r\n    store: { jwtToken },\r\n  } = useAppContext();\r\n\r\n  const [commentContent, setCommentComment] = useState(\"\");\r\n\r\n  const headers = { Authorization: `JWT ${jwtToken}` };\r\n\r\n  const [{ data: commentList, loading, error }, refetch] = useAxios({\r\n    url: `api/posts/${post.id}/comments/`,\r\n    headers,\r\n  });\r\n\r\n  const handleCommentSave = async () => {\r\n    const apiUrl = `api/posts/${post.id}/comments/`;\r\n    await axiosInstance\r\n      .post(apiUrl, { message: commentContent }, { headers })\r\n      .then((response) => {\r\n        setCommentComment(\"\");\r\n        refetch();\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error :\", error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {commentList &&\r\n        commentList.map((comment) => (\r\n          <Comment key={comment.id} comment={comment} />\r\n        ))}\r\n      <Input.TextArea\r\n        style={{ marginBottom: \".5em\" }}\r\n        value={commentContent}\r\n        onChange={(e) => setCommentComment(e.target.value)}\r\n      />\r\n      <Button\r\n        block\r\n        type=\"primary\"\r\n        disabled={commentContent.length === 0}\r\n        onClick={handleCommentSave}\r\n      >\r\n        댓글 쓰기\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Avatar, Card } from \"antd\";\r\nimport { HeartOutlined, HeartTwoTone, UserOutlined } from \"@ant-design/icons\";\r\nimport CommentList from \"./CommentList\";\r\n\r\nfunction Post({ post, handleLike }) {\r\n  const { author, caption, location, photo, tag_set, is_like } = post;\r\n  const { username, name, avatar_url } = author;\r\n\r\n  return (\r\n    <div>\r\n      <Card\r\n        hoverable\r\n        cover={<img src={photo} alt={caption} />}\r\n        actions={[\r\n          is_like ? (\r\n            <HeartTwoTone\r\n              twoToneColor=\"#eb2f96\"\r\n              onClick={() => {\r\n                handleLike({ post, isLike: false });\r\n              }}\r\n            />\r\n          ) : (\r\n            <HeartOutlined\r\n              onClick={() => {\r\n                handleLike({ post, isLike: true });\r\n              }}\r\n            />\r\n          ),\r\n        ]}\r\n      >\r\n        <Card.Meta\r\n          avatar={\r\n            <Avatar\r\n              size=\"large\"\r\n              icon={<img src={avatar_url} alt={username} />}\r\n            />\r\n          }\r\n          title={location}\r\n          description={caption}\r\n          style={{ marginBottom: \"0.5em\" }}\r\n        />\r\n        <CommentList post={post} />\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Alert } from \"antd\";\r\nimport Post from \"./Post\";\r\nimport { useAppContext } from \"store\";\r\nimport { axiosInstance, useAxios } from \"api\";\r\n\r\nconst apiUrl = \"/api/posts/\";\r\n\r\nfunction PostList() {\r\n  const {\r\n    store: { jwtToken },\r\n  } = useAppContext();\r\n\r\n  const [postList, setPostList] = useState([]);\r\n\r\n  const headers = { Authorization: `JWT ${jwtToken}` };\r\n\r\n  const [{ data: originPostList, loading, error }, refetch] = useAxios({\r\n    url: apiUrl,\r\n    headers,\r\n  });\r\n\r\n  useEffect(() => {\r\n    setPostList(originPostList);\r\n  }, [originPostList]);\r\n\r\n  const handleLike = async ({ post, isLike }) => {\r\n    const apiUrl = `/api/posts/${post.id}/like/`;\r\n    const method = isLike ? \"POST\" : \"DELETE\";\r\n    axiosInstance({\r\n      url: apiUrl,\r\n      method,\r\n      headers,\r\n    })\r\n      .then((response) => {\r\n        console.log(\"response :\", response);\r\n        setPostList((prev) => {\r\n          return prev.map((currentPost) =>\r\n            currentPost === post\r\n              ? { ...currentPost, is_like: isLike }\r\n              : currentPost\r\n          );\r\n        });\r\n      })\r\n      .catch((e) => {\r\n        console.log(\"error :\", e);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {postList && postList.length === 0 && (\r\n        <Alert type=\"warning\" message=\"포스팅이 없습니다.\" />\r\n      )}\r\n      {postList &&\r\n        postList.map((post) => (\r\n          <Post post={post} key={post.id} handleLike={handleLike} />\r\n        ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PostList;\r\n","import React from \"react\";\r\nimport { Card } from \"antd\";\r\nimport \"./StoryList.scss\";\r\n\r\nexport default function StoryList({ style }) {\r\n  return (\r\n    <div style={style}>\r\n      <Card title=\"Stories\" size=\"small\">\r\n        blabla\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Avatar, Button } from \"antd\";\r\nimport \"./Suggestion.scss\";\r\n\r\nexport default function Suggestion({ suggestionUser, onFollowUser }) {\r\n  const { username, name, avatar_url, is_follow } = suggestionUser;\r\n  return (\r\n    <div className=\"suggestion\">\r\n      <div className=\"avatar\">\r\n        <Avatar\r\n          size=\"small\"\r\n          icon={<img src={avatar_url} alt={`${username}'s avatar`} />}\r\n        />\r\n      </div>\r\n      <div className=\"username\">{name.length === 0 ? username : name}</div>\r\n      <div className=\"action\">\r\n        {is_follow ? (\r\n          \"팔로잉 중\"\r\n        ) : (\r\n          <Button size=\"small\" onClick={() => onFollowUser(username)}>\r\n            Follow\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Suggestion from \"./Suggestion\";\r\nimport { Card } from \"antd\";\r\nimport { useAppContext } from \"store\";\r\nimport \"./SuggestionList.scss\";\r\nimport { axiosInstance, useAxios } from \"api\";\r\n\r\nexport default function SuggestionList({ style }) {\r\n  const {\r\n    store: { jwtToken },\r\n  } = useAppContext();\r\n\r\n  const headers = { Authorization: `JWT ${jwtToken}` };\r\n\r\n  const [{ data: originUserList, loading, error }, refetch] = useAxios({\r\n    url: \"/accounts/suggestions/\",\r\n    headers,\r\n  });\r\n\r\n  const [userList, setUserList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!originUserList) {\r\n      setUserList([]);\r\n    } else {\r\n      setUserList(\r\n        originUserList.map((user) => ({ ...user, is_follow: false }))\r\n      );\r\n    }\r\n  }, [originUserList]);\r\n\r\n  const onFollowUser = (username) => {\r\n    const data = { username };\r\n    const config = { headers };\r\n    axiosInstance\r\n      .post(\"/accounts/follow/\", data, config)\r\n      .then((response) => {\r\n        setUserList((prevUserList) =>\r\n          prevUserList.map((user) =>\r\n            user.username === username ? { ...user, is_follow: true } : user\r\n          )\r\n        );\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div style={style}>\r\n      {loading && <div>Loading...</div>}\r\n      {error && <div>로딩 중에 에러가 발생했습니다.</div>}\r\n      <button onClick={refetch}>Reload</button>\r\n      <Card title=\"Suggestions\" size=\"small\">\r\n        {userList.map((suggestionUser) => (\r\n          <Suggestion\r\n            key={suggestionUser.username}\r\n            suggestionUser={suggestionUser}\r\n            onFollowUser={onFollowUser}\r\n          />\r\n        ))}\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Button } from \"antd\";\r\nimport AppLayout from \"components/AppLayout\";\r\nimport PostList from \"components/PostList\";\r\nimport StoryList from \"components/StoryList\";\r\nimport SuggestionList from \"components/SuggestionList\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Home() {\r\n  const history = useHistory();\r\n\r\n  const handleClick = () => {\r\n    history.push(\"/posts/new\");\r\n  };\r\n\r\n  const sidebar = (\r\n    <>\r\n      <Button\r\n        type=\"primary\"\r\n        block\r\n        style={{ marginBottom: \"1rem\" }}\r\n        onClick={handleClick}\r\n      >\r\n        새 포스팅 쓰기\r\n      </Button>\r\n      <StoryList style={{ marginBottom: \"1rem\" }} />\r\n      <SuggestionList />\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <AppLayout sidebar={sidebar}>\r\n      <PostList />\r\n    </AppLayout>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\n\r\nfunction About() {\r\n  return <div>About</div>;\r\n}\r\n\r\nexport default About;\r\n","import React, { useState } from \"react\";\r\nimport { Card, Form, Input, Button } from \"antd\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { useAppContext, setToken } from \"store\";\r\nimport { axiosInstance } from \"api\";\r\n\r\nconst layout = {\r\n  labelCol: { span: 8 },\r\n  wrapperCol: { span: 16 },\r\n};\r\n\r\nconst tailLayout = {\r\n  wrapperCol: { offset: 8, span: 16 },\r\n};\r\n\r\nexport default function Login() {\r\n  const { dispatch } = useAppContext();\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const [fieldErrors, setFieldErrors] = useState({});\r\n\r\n  const { from: loginRedirectUrl } = location.state || { from: { path: \"/\" } };\r\n\r\n  const onFinish = (values) => {\r\n    setFieldErrors({});\r\n    axiosInstance\r\n      .post(\"/accounts/token/\", values)\r\n      .then((response) => {\r\n        const jwtToken = response.data.token;\r\n        dispatch(setToken(jwtToken));\r\n        history.push(loginRedirectUrl);\r\n      })\r\n      .catch((e) => onFinishFailed(e));\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo) => {\r\n    const errors = Object.entries(errorInfo.response.data).reduce(\r\n      (acc, [fieldName, errors]) => {\r\n        acc[fieldName] = {\r\n          validateStatus: \"error\",\r\n          help: errors.join(\" \"),\r\n        };\r\n        return acc;\r\n      },\r\n      {}\r\n    );\r\n    setFieldErrors(errors);\r\n  };\r\n\r\n  return (\r\n    <Card title=\"로그인\">\r\n      <Form {...layout} onFinish={onFinish} onFinishFailed={onFinishFailed}>\r\n        <Form.Item\r\n          label=\"ID\"\r\n          name=\"username\"\r\n          rules={[\r\n            { required: true, message: \"ID를 입력해주세요.\" },\r\n            // { min: 8, message: \"8글자 이상 입력해주세요.\" },\r\n          ]}\r\n          hasFeedback\r\n          {...fieldErrors.username}\r\n          {...fieldErrors.non_field_errors}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"PW\"\r\n          name=\"password\"\r\n          rules={[{ required: true, message: \"비밀번호를 입력해주세요.\" }]}\r\n          hasFeedback\r\n          {...fieldErrors.password}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            Submit\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </Card>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nfunction Profile() {\r\n  return <div>accounts/profile</div>;\r\n}\r\n\r\nexport default Profile;\r\n","import React, { useState } from \"react\";\r\nimport { Card, Form, Input, Button } from \"antd\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { axiosInstance } from \"api\";\r\n\r\nconst layout = {\r\n  labelCol: { span: 8 },\r\n  wrapperCol: { span: 16 },\r\n};\r\n\r\nconst tailLayout = {\r\n  wrapperCol: { offset: 8, span: 16 },\r\n};\r\n\r\nexport default function Signup() {\r\n  const history = useHistory();\r\n  const [fieldErrors, setFieldErrors] = useState({});\r\n\r\n  const onFinish = (values) => {\r\n    setFieldErrors({});\r\n\r\n    axiosInstance\r\n      .post(\"/accounts/signup/\", values)\r\n      .then((response) => {\r\n        history.push(\"/accounts/login\");\r\n      })\r\n      .catch((e) => onFinishFailed(e));\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo) => {\r\n    console.log(Object.entries(errorInfo.response.data));\r\n    const errors = Object.entries(errorInfo.response.data).reduce(\r\n      (acc, [fieldName, errors]) => {\r\n        acc[fieldName] = {\r\n          validateStatus: \"error\",\r\n          help: errors.join(\" \"),\r\n        };\r\n        return acc;\r\n      },\r\n      {}\r\n    );\r\n    setFieldErrors(errors);\r\n  };\r\n\r\n  return (\r\n    <Card title=\"회원가입\">\r\n      <Form {...layout} onFinish={onFinish} onFinishFailed={onFinishFailed}>\r\n        <Form.Item\r\n          label=\"ID\"\r\n          name=\"username\"\r\n          rules={[\r\n            { required: true, message: \"ID를 입력해주세요.\" },\r\n            // { min: 8, message: \"8글자 이상 입력해주세요.\" },\r\n          ]}\r\n          hasFeedback\r\n          {...fieldErrors.username}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"PW\"\r\n          name=\"password\"\r\n          rules={[{ required: true, message: \"비밀번호를 입력해주세요.\" }]}\r\n          hasFeedback\r\n          {...fieldErrors.password}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            Submit\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </Card>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { useAppContext } from \"store\";\r\n\r\nexport default function LoginRequiredRoute({\r\n  component: Component,\r\n  ...kwargs\r\n}) {\r\n  const {\r\n    store: { isAuthenticated },\r\n  } = useAppContext();\r\n\r\n  return (\r\n    <Route\r\n      {...kwargs}\r\n      render={(props) => {\r\n        if (isAuthenticated) {\r\n          return <Component {...props} />;\r\n        } else {\r\n          return (\r\n            <Redirect\r\n              to={{\r\n                pathname: \"/accounts/login\",\r\n                state: { from: props.location },\r\n              }}\r\n            />\r\n          );\r\n        }\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport Login from \"./Login\";\r\nimport Profile from \"./Profile\";\r\nimport Signup from \"./Signup\";\r\nimport LoginRequiredRoute from \"utils/LoginRequiredRoute\";\r\n\r\nfunction Routes({ match }) {\r\n  return (\r\n    <>\r\n      <LoginRequiredRoute\r\n        exact\r\n        path={match.url + \"/profile\"}\r\n        component={Profile}\r\n      />\r\n      <Route exact path={match.url + \"/login\"} component={Login} />\r\n      <Route exact path={match.url + \"/signup\"} component={Signup} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Routes;\r\n","export function getBase64FromFile(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = (error) => reject(error);\r\n  });\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Form, Input, Button, Upload, Modal } from \"antd\";\r\nimport { PlusOutlined } from \"@ant-design/icons\";\r\nimport { getBase64FromFile } from \"utils/base64\";\r\nimport { useAppContext } from \"store\";\r\nimport { parseErrorMessages } from \"utils/forms\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { axiosInstance } from \"api\";\r\n\r\nexport default function PostNewForm() {\r\n  const {\r\n    store: { jwtToken },\r\n  } = useAppContext();\r\n\r\n  const history = useHistory();\r\n\r\n  const [fileList, setFileList] = useState([]);\r\n  const [previewPhoto, setPreviewPhoto] = useState({\r\n    visible: false,\r\n    base64: null,\r\n  });\r\n  const [fieldErrors, setFieldErrors] = useState({});\r\n\r\n  const handleUploadChange = ({ fileList }) => {\r\n    setFileList(fileList);\r\n  };\r\n\r\n  const handlePreviewPhoto = async (file) => {\r\n    if (!file.url && !file.preview) {\r\n      file.preview = await getBase64FromFile(file.originFileObj);\r\n    }\r\n\r\n    setPreviewPhoto({\r\n      visible: true,\r\n      base64: file.url || file.preview,\r\n    });\r\n  };\r\n\r\n  const handleFinish = async (fieldValues) => {\r\n    console.log(\"fieldValues :\", fieldValues);\r\n\r\n    const {\r\n      caption,\r\n      location,\r\n      photo: { fileList },\r\n    } = fieldValues;\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"caption\", caption);\r\n    formData.append(\"location\", location);\r\n    fileList.forEach((file) => {\r\n      formData.append(\"photo\", file.originFileObj);\r\n    });\r\n\r\n    const headers = { Authorization: `JWT ${jwtToken}` };\r\n\r\n    axiosInstance\r\n      .post(\"/api/posts/\", formData, { headers })\r\n      .then((response) => {\r\n        history.push(\"/\");\r\n      })\r\n      .catch((e) => {\r\n        handleFinishFailed(e);\r\n      });\r\n  };\r\n\r\n  const handleFinishFailed = (error) => {\r\n    console.log(\"error :\", error);\r\n    if (error.response) {\r\n      const { status, data: fieldErrorMessages } = error.response;\r\n      if (typeof fieldErrorMessages === \"string\") {\r\n        console.log(`에러) ${status} 응답을 받았습니다.`);\r\n      } else {\r\n        setFieldErrors(parseErrorMessages(fieldErrorMessages));\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form\r\n      {...layout}\r\n      onFinish={handleFinish}\r\n      onFinishFailed={handleFinishFailed}\r\n      autoComplete={\"false\"}\r\n    >\r\n      <Form.Item\r\n        label=\"Caption\"\r\n        name=\"caption\"\r\n        rules={[{ required: true, message: \"Caption을 입력해주세요.\" }]}\r\n        hasFeedback\r\n        {...fieldErrors.caption}\r\n        {...fieldErrors.non_field_errors}\r\n      >\r\n        <Input.TextArea />\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        label=\"Location\"\r\n        name=\"location\"\r\n        rules={[{ required: true, message: \"Location을 입력해주세요.\" }]}\r\n        hasFeedback\r\n        {...fieldErrors.location}\r\n      >\r\n        <Input />\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        label=\"Photo\"\r\n        name=\"photo\"\r\n        rules={[{ required: true, message: \"사진을 입력해주세요.\" }]}\r\n        hasFeedback\r\n        {...fieldErrors.photo}\r\n      >\r\n        <Upload\r\n          listType=\"picture-card\"\r\n          fileList={fileList}\r\n          beforeUpload={() => {\r\n            return false;\r\n          }}\r\n          onChange={handleUploadChange}\r\n          onPreview={handlePreviewPhoto}\r\n        >\r\n          {fileList.length > 0 ? null : (\r\n            <div>\r\n              <PlusOutlined />\r\n              <div className=\"ant-upload-text\">Upload</div>\r\n            </div>\r\n          )}\r\n        </Upload>\r\n      </Form.Item>\r\n\r\n      <Form.Item {...tailLayout}>\r\n        <Button type=\"primary\" htmlType=\"submit\">\r\n          Submit\r\n        </Button>\r\n      </Form.Item>\r\n\r\n      <Modal\r\n        visible={previewPhoto.visible}\r\n        footer={null}\r\n        onCancel={() => setPreviewPhoto({ visible: false })}\r\n      >\r\n        <img\r\n          src={previewPhoto.base64}\r\n          style={{ width: \"100%\" }}\r\n          alt=\"Preview\"\r\n        />\r\n      </Modal>\r\n    </Form>\r\n  );\r\n}\r\n\r\nconst layout = {\r\n  labelCol: { span: 8 },\r\n  wrapperCol: { span: 16 },\r\n};\r\n\r\nconst tailLayout = {\r\n  wrapperCol: { offset: 8, span: 16 },\r\n};\r\n","export function parseErrorMessages(fieldErrorMessages) {\r\n  return Object.entries(fieldErrorMessages).reduce(\r\n    (acc, [fieldName, errors]) => {\r\n      acc[fieldName] = {\r\n        validateStatus: \"error\",\r\n        help: errors.join(\" \"),\r\n      };\r\n      return acc;\r\n    },\r\n    {}\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Card } from \"antd\";\r\nimport PostNewForm from \"components/PostNewForm\";\r\nimport \"./PostNew.scss\";\r\n\r\nexport default function PostNew() {\r\n  return (\r\n    <div className=\"PostNew\">\r\n      <Card title=\"새 포스팅 쓰기\">\r\n        <PostNewForm />\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport Home from \"./Home\";\r\nimport About from \"./About\";\r\nimport AccountsRoutes from \"./accounts\";\r\nimport LoginRequiredRoute from \"utils/LoginRequiredRoute\";\r\nimport PostNew from \"./PostNew\";\r\n\r\nfunction Root() {\r\n  return (\r\n    <>\r\n      <LoginRequiredRoute exact path=\"/\" component={Home} />\r\n      <Route exact path=\"/about\" component={About} />\r\n      <LoginRequiredRoute exact path=\"/posts/new\" component={PostNew} />\r\n      <Route path=\"/accounts\" component={AccountsRoutes} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Root;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport Root from \"pages\";\r\nimport { AppProvider } from \"store\";\r\nimport { BrowserRouter, HashRouter } from \"react-router-dom\";\r\nimport \"antd/dist/antd.css\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  // <BrowserRouter>\r\n  <HashRouter>\r\n    <AppProvider>\r\n      <Root />\r\n    </AppProvider>\r\n  </HashRouter>,\r\n  // </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}